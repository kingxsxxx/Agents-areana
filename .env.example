# ============================================================
# AGORA AI Debate Arena - 生产环境配置模板
# ============================================================
# 复制此文件为 .env 并填入实际值
# 注意：.env 文件不应提交到版本控制系统
# ============================================================

# ==================== 应用基础配置 ====================
APP_NAME=AGORA_AI
APP_VERSION=1.0.0
DEBUG=False
API_PREFIX=/api

# ==================== 服务器配置 ====================
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
WORKERS=4
LOG_LEVEL=INFO

# ==================== 数据库配置 (PostgreSQL) ====================
DB_HOST=postgres
DB_PORT=5432
DB_USER=agora_user
DB_PASSWORD=your_secure_password_here
DB_NAME=agora_ai
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_ECHO=False

# ==================== Redis 配置 ====================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=your_redis_password_here
REDIS_POOL_SIZE=10
REDIS_CACHE_TTL=3600
REDIS_TOKEN_TTL=604800

# ==================== JWT 认证配置 ====================
# 重要：生产环境必须使用强随机密钥！
# 生成命令: openssl rand -hex 32
SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==================== 请求限流配置 ====================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# ==================== CORS 配置 ====================
# 生产环境应限制具体域名，使用逗号分隔
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Content-Type,Authorization,X-Requested-With

# ==================== 日志配置 ====================
LOG_LEVEL=INFO
LOG_FILE=/app/logs/app.log
LOG_ROTATION=10 MB
LOG_RETENTION=30 days

# ==================== WebSocket 配置 ====================
WS_MAX_CONNECTIONS=1000
WS_HEARTBEAT_INTERVAL=30
WS_CONNECTION_TIMEOUT=300

# ==================== AI 模型配置 ====================
AI_REQUEST_TIMEOUT=60
AI_MAX_RETRIES=3

# ==================== AI 模型 API 密钥 ====================
# DeepSeek API
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_API_BASE=https://api.deepseek.com/v1
DEEPSEEK_MODEL=deepseek-chat

# OpenAI API
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o-mini

# 阿里通义千问 API
QWEN_API_KEY=your_qwen_api_key_here
QWEN_API_BASE=https://dashscope.aliyuncs.com/api/v1
QWEN_MODEL=qwen-turbo

# 月之暗面 Kimi API
KIMI_API_KEY=your_kimi_api_key_here
KIMI_API_BASE=https://api.moonshot.cn/v1
KIMI_MODEL=moonshot-v1-8k

# 字节跳动豆包 API
DOUBAO_API_KEY=your_doubao_api_key_here
DOUBAO_API_BASE=https://ark.cn-beijing.volces.com/api/v3
DOUBAO_MODEL=ep-20241230111111-abcde

# Google Gemini API
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_API_BASE=https://generativelanguage.googleapis.com/v1
GEMINI_MODEL=gemini-pro

# 智谱 GLM API
GLM_API_KEY=your_glm_api_key_here
GLM_API_BASE=https://open.bigmodel.cn/api/paas/v4
GLM_MODEL=glm-4-flash

# ==================== 安全配置 ====================
# 允许的最大请求体大小 (MB)
MAX_REQUEST_BODY_SIZE=10

# 会话 Cookie 配置
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax

# ==================== Nginx 配置 ====================
NGINX_SERVER_NAME=yourdomain.com
NGINX_SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
NGINX_SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ==================== 监控与观测 (可选) ====================
# Sentry 错误追踪
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# Prometheus metrics
PROMETHEUS_ENABLED=False
PROMETHEUS_PORT=9090

# ==================== 第三方服务 (可选) ====================
# 邮件服务配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@yourdomain.com
SMTP_TLS=True

# 对象存储 (MinIO/S3)
S3_ENDPOINT=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET=
S3_REGION=us-east-1

# ==================== 功能开关 ====================
ENABLE_REGISTRATION=True
ENABLE_GUEST_ACCESS=False
ENABLE_ANALYTICS=True
ENABLE_EXPORT=True
